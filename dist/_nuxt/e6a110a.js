(window.webpackJsonp=window.webpackJsonp||[]).push([[42,20],{703:function(e,t,r){"use strict";r.r(t);var n=r(3),d=(r(5),r(40),r(43),r(665),r(313),r(33),r(42),r(661)),o={computed:{calculateAge:function(){var e=new Date-new Date("".concat(this.$auth.user.birthdate));return Math.floor(e/315576e5)}},methods:{savePassword:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.getItem("password")==e.register.current_password){t.next=3;break}return alert("Wrong Password"),t.abrupt("return");case 3:try{e.$store.dispatch("users/edit",{id:e.$auth.user.id,password:e.register.new_password}).then((function(e){location.reload()}))}catch(e){alert("Wrong Password")}case 4:case"end":return t.stop()}}),t)})))()},editItem:function(){this.register=d(this.$auth.user),this.register.birthdate="",delete this.register.image,this.isEdit=!0},onFileUpload:function(e){if(this.file=e,e=e.target.files[0],this.url=URL.createObjectURL(e),e.name.length>100)alert("255 characters exceeded filename.");else{try{if(e.size>16e6)return void alert("Only 15mb file can be accepted.");var t=new FormData;t.append("id",this.$auth.user.id),t.append("image",e),this.$store.dispatch("users/editUserImage",t).then((function(e){location.reload()}))}catch(e){return void alert(e)}this.file=e}},submitHandler:function(){this.register.id=this.$auth.user.id,this.$store.dispatch("users/edit",this.register).then((function(e){alert("Successfully Updated!"),location.reload()})),this.isEdit=!1}},data:function(){return{departMenu:!1,isEditPassword:!1,isEdit:!1,register:{}}}},l=r(101),v=r(150),c=r.n(v),_=r(218),m=r(226),f=r(219),h=r(509),w=r(694),x=r(510),$=r(217),k=r(187),y=r(714),C=r(514),E=r(713),P=r(515),V=r(498),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pa-10"},[r("v-dialog",{attrs:{width:"300"},model:{value:e.isEditPassword,callback:function(t){e.isEditPassword=t},expression:"isEditPassword"}},[r("v-card",{staticClass:"pa-5"},[r("div",[r("div",[e._v("\n          Current Password\n        ")]),e._v(" "),r("div",[r("v-text-field",{attrs:{type:"password",outlined:"",dense:""},model:{value:e.register.current_password,callback:function(t){e.$set(e.register,"current_password",t)},expression:"register.current_password"}})],1),e._v(" "),r("div",[e._v("\n          New Password\n          "),r("div",[r("v-text-field",{attrs:{outlined:"",type:"password",dense:""},model:{value:e.register.new_password,callback:function(t){e.$set(e.register,"new_password",t)},expression:"register.new_password"}})],1)]),e._v(" "),r("div",{attrs:{align:"center"}},[r("v-btn",{attrs:{color:"secondary"},on:{click:e.savePassword}},[e._v("Save")])],1)])])],1),e._v(" "),r("v-dialog",{attrs:{width:"500"},model:{value:e.isEdit,callback:function(t){e.isEdit=t},expression:"isEdit"}},[r("v-card",{staticClass:"pa-10"},[r("div",[r("div",[e._v("Firstname")]),e._v(" "),r("v-text-field",{attrs:{outlined:"",dense:""},model:{value:e.register.firstname,callback:function(t){e.$set(e.register,"firstname",t)},expression:"register.firstname"}})],1),e._v(" "),r("div",[r("div",[e._v("Lastname")]),e._v(" "),r("v-text-field",{attrs:{outlined:"",dense:""},model:{value:e.register.lastname,callback:function(t){e.$set(e.register,"lastname",t)},expression:"register.lastname"}})],1),e._v(" "),r("div",[r("div",[e._v("Address")]),e._v(" "),r("v-text-field",{attrs:{outlined:"",dense:""},model:{value:e.register.address,callback:function(t){e.$set(e.register,"address",t)},expression:"register.address"}})],1),e._v(" "),r("div",[r("div",[e._v("Faculty ID")]),e._v(" "),r("v-text-field",{attrs:{outlined:"",dense:""},model:{value:e.register.student_number,callback:function(t){e.$set(e.register,"student_number",t)},expression:"register.student_number"}})],1),e._v(" "),r("div",[r("div",[e._v("Year graduated")]),e._v(" "),r("v-text-field",{attrs:{outlined:"",dense:""},model:{value:e.register.last_attended,callback:function(t){e.$set(e.register,"last_attended",t)},expression:"register.last_attended"}})],1),e._v(" "),r("div",[e._v("\n          Birthday\n          "),r("div",{staticClass:"text-h5"},[r("v-menu",{ref:"departMenu",attrs:{"close-on-content-click":!1,"return-value":e.register.depart,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.register,"depart",t)},"update:return-value":function(t){return e.$set(e.register,"depart",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,d=t.attrs;return[r("v-text-field",e._g(e._b({attrs:{dense:"",outlined:"",readonly:""},model:{value:e.register.birthdate,callback:function(t){e.$set(e.register,"birthdate",t)},expression:"register.birthdate"}},"v-text-field",d,!1),n))]}}]),model:{value:e.departMenu,callback:function(t){e.departMenu=t},expression:"departMenu"}},[e._v(" "),r("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.register.birthdate,callback:function(t){e.$set(e.register,"birthdate",t)},expression:"register.birthdate"}},[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.departMenu=!1}}},[e._v("\n                  Cancel\n                ")]),e._v(" "),r("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.departMenu.save(e.register.birthdate)}}},[e._v("\n                  OK\n                ")])],1)],1)],1)]),e._v(" "),r("div",[r("div",[e._v("Mobile Number")]),e._v(" "),r("v-row",[r("v-col",{staticClass:"pr-0",attrs:{cols:"auto"}},[r("div",{staticStyle:{width:"120px"}},[r("v-select",{attrs:{outlined:"",dense:"","hide-details":"",items:["+63","+93","+355","+213","+1684","+376","+244","+1264","+672","+64","+1268","+54","+374","+297","+247","+61","+43","+994","+1242","+973","+880","+1246","+375","+32","+501","+229","+1441","+975","+591","+387","+267","+55","+1284","+673","+359","+226","+95","+257","+855","+237","+1","+238","+1345","+236","+235","+56","+86","+61","+57","+269","+242","+682"]},model:{value:e.register.country_code,callback:function(t){e.$set(e.register,"country_code",t)},expression:"register.country_code"}})],1)]),e._v(" "),r("v-col",[r("v-text-field",{attrs:{outlined:"",type:"number",placeholder:"",dense:""},model:{value:e.register.mobile_number,callback:function(t){e.$set(e.register,"mobile_number",t)},expression:"register.mobile_number"}})],1)],1)],1),e._v(" "),r("div",{attrs:{align:"center"}},[r("v-btn",{attrs:{color:"primary"},on:{click:e.submitHandler}},[e._v("Save Changes")])],1)])],1),e._v(" "),e._m(0),e._v(" "),r("div",[r("v-row",[r("v-col",[r("v-card",{staticClass:"rounded-xl pa-10",attrs:{elevation:"5"}},[r("div",{attrs:{align:"center"}},[r("div",[r("v-avatar",{staticClass:"white--text pointer",attrs:{size:"100",color:"grey"},on:{click:function(t){return e.$refs.file.click()}}},[r("v-img",{attrs:{src:e.$auth.user.image}})],1),e._v(" "),r("input",{ref:"file",staticClass:"d-none",attrs:{type:"file",id:"fileInput",accept:"image/png, image/jpeg"},on:{change:e.onFileUpload}}),e._v(" "),r("div",[e._v(e._s(e.$auth.user.firstname)+" "+e._s(e.$auth.user.lastname))]),e._v(" "),r("div",{staticClass:"pointer",on:{click:function(t){e.isEditPassword=!0}}},[e._v("\n                Edit Password\n              ")]),e._v(" "),r("div",{staticClass:"pt-5",attrs:{align:"start"}},[r("v-row",[r("v-col",[r("div",[e._v("Faculty ID Number:")])]),e._v(" "),r("v-col",[r("div",[e._v("\n                      "+e._s(e.$auth.user.student_number)+"\n                    ")])])],1),e._v(" "),r("v-row",[r("v-col",[r("div",[e._v("Email:")])]),e._v(" "),r("v-col",[r("div",[e._v("\n                      "+e._s(e.$auth.user.email)+"\n                    ")])])],1),e._v(" "),r("v-row",[r("v-col",[r("div",[e._v("Firstname:")])]),e._v(" "),r("v-col",[r("div",[e._v("\n                      "+e._s(e.$auth.user.firstname)+"\n                    ")])])],1),e._v(" "),r("v-row",[r("v-col",[r("div",[e._v("Year Graduated:")])]),e._v(" "),r("v-col",[r("div",[e._v("\n                      "+e._s(e.$auth.user.last_attended)+"\n                    ")])])],1),e._v(" "),r("v-row",[r("v-col",[r("div",[e._v("Lastname:")])]),e._v(" "),r("v-col",[r("div",[e._v("\n                      "+e._s(e.$auth.user.lastname)+"\n                    ")])])],1),e._v(" "),r("v-row",[r("v-col",[r("div",[e._v("Mobile Number:")])]),e._v(" "),r("v-col",[r("div",[e._v("\n                    "+e._s(e.$auth.user.country_code)+"  "+e._s(e.$auth.user.mobile_number)+"\n                    ")])])],1)],1)],1)])])],1),e._v(" "),r("v-col",[r("v-card",{staticClass:"rounded-xl pa-10",attrs:{elevation:"5",height:"400"}},[r("div",[e._v("Age:")]),e._v(" "),r("div",{staticClass:"pb-10"},[e._v("\n            "+e._s(e.calculateAge)+"\n          ")]),e._v(" "),r("div",[e._v("Birthdate:")]),e._v(" "),r("div",{staticClass:"pb-10"},[e._v("\n            "+e._s(e.$auth.user.birthdate)+"\n          ")]),e._v(" "),r("div",[e._v("Address:")]),e._v(" "),r("div",{staticClass:"pb-10"},[e._v("\n            "+e._s(e.$auth.user.address)+"\n          ")]),e._v(" "),r("div"),e._v(" "),r("div",{attrs:{align:"end"}},[r("v-icon",{on:{click:e.editItem}},[e._v(" mdi-pencil ")])],1)])],1)],1)],1)],1)}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"text-h5 pb-10"},[r("b",[e._v("Program Head Information")])])}],!1,null,null,null);t.default=component.exports;c()(component,{VAvatar:_.a,VBtn:m.a,VCard:f.a,VCol:h.a,VDatePicker:w.a,VDialog:x.a,VIcon:$.a,VImg:k.a,VMenu:y.a,VRow:C.a,VSelect:E.a,VSpacer:P.a,VTextField:V.a})},771:function(e,t,r){"use strict";r.r(t);var n={components:{InformationContainer:r(703).default}},d=r(101),component=Object(d.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("information-container")],1)}),[],!1,null,null,null);t.default=component.exports}}]);